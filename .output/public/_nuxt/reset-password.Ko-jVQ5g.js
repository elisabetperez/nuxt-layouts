import{C as g,E,D as b,H as o,o as n,c as l,a as r,b as a,w as v,y as i,t as C}from"./entry.OtO-Wuic.js";import{u as y}from"./useAuth.swlTjCW5.js";const w={class:"f--container"},M={class:"f--row"},L=r("div",{class:"f--col-12"},[r("h2",{class:"f--font-a"},"Reset Password"),r("h3",null,"You'll receive an email to recover your password.")],-1),x={class:"f--col-6"},H=["innerHTML"],k=["innerHTML"],T=["disabled"],S=g({__name:"reset-password",setup(V){const e=E({success:"",error:"",email:"",errorMessage:"",loading:!1,inputError:!1}),{validateEmail:c}=y(),d=b(),u=async()=>{if(!c(e.email)){e.error="Enter a valid email.",e.inputError=!0;return}try{e.loading=!0;let{data:t,error:s}=await d.auth.resetPasswordForEmail(e.email);s?(e.inputError=!0,e.error=s.message):(e.success="Password successfully reset! Just one more step: check your email for the update.",e.inputError=!1,e.error="",e.email="")}catch(t){e.error="Error coming from Supabase."+t,e.inputError=!0}finally{e.loading=!1}};return(t,s)=>{const m=o("Label"),p=o("TextField"),f=o("ErrorAndHint"),_=o("FormGroup");return n(),l("div",w,[r("div",M,[L,r("div",x,[a(_,{formClass:"c--form-group-a"},{default:v(()=>[a(m,{forId:"email",labelClass:"c--form-label-a",textLabel:""}),a(p,{type:"text",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=h=>e.email=h),id:"email",inputClass:"c--form-input-a",placeholder:"Email",error:e.inputError},null,8,["modelValue","error"]),a(f,{errorMessage:e.errorMessage,errorClass:"c--form-error-a",hintMessage:!1,hintClass:"c--form-hint-a"},null,8,["errorMessage"])]),_:1}),e.error?(n(),l("div",{key:0,class:"c--form-error-a",innerHTML:e.error},null,8,H)):i("",!0),e.success?(n(),l("div",{key:1,class:"c--form-success-a",innerHTML:e.success},null,8,k)):i("",!0),r("button",{class:"c--btn-a c--btn-a--second",disabled:e.loading,onClick:u},C(e.loading?"Loading":"Send"),9,T)])])])}}});export{S as default};
