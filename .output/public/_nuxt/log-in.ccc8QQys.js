import{_ as C}from"./nuxt-link.e-sgaRED.js";import{C as v,D as x,E as f,H as n,o as h,c as g,a as o,I as V,b as r,w as l,v as e,y as E,d as b,q as y}from"./entry.OtO-Wuic.js";const L={class:"f--container"},T={class:"f--row"},H=o("div",{class:"f--col-12"},[o("h2",{class:"f--font-c"},"Login")],-1),I={class:"f--col-6"},k=["innerHTML"],F=o("button",{type:"submit",class:"c--btn-a"},"Log In",-1),N=o("hr",null,null,-1),U=o("hr",null,null,-1),B=o("hr",null,null,-1),G=v({__name:"log-in",setup(P){const w=x(),t=f({email:"",password:""}),s=f({success:"",error:"",errorMessage:"",hintMessage:"",inputError:!1}),M=async()=>{try{s.error="";const{data:i,error:a}=await w.auth.signInWithPassword({email:t.email,password:t.password});a?(s.error=a.message,s.inputError=!0):y("/library")}catch(i){console.log(i)}};return(i,a)=>{const d=n("Label"),u=n("TextField"),m=n("ErrorAndHint"),p=n("FormGroup"),_=C;return h(),g("div",L,[o("div",T,[H,o("div",I,[o("form",{onSubmit:V(M,["prevent"])},[r(p,{formClass:"c--form-group-a"},{default:l(()=>[r(d,{forId:"email",labelClass:"c--form-label-a",textLabel:""}),r(u,{type:"text",modelValue:e(t).email,"onUpdate:modelValue":a[0]||(a[0]=c=>e(t).email=c),id:"email",inputClass:"c--form-input-a",placeholder:"Email",error:e(s).inputError},null,8,["modelValue","error"]),r(m,{errorMessage:e(s).errorMessage,errorClass:"c--form-error-a",hintMessage:e(s).hintMessage,hintClass:"c--form-hint-a"},null,8,["errorMessage","hintMessage"])]),_:1}),r(p,{formClass:"c--form-group-a"},{default:l(()=>[r(d,{forId:"password",labelClass:"c--form-label-a",textLabel:""}),r(u,{type:"password",modelValue:e(t).password,"onUpdate:modelValue":a[1]||(a[1]=c=>e(t).password=c),id:"password",inputClass:"c--form-input-a",placeholder:"Password",error:e(s).inputError},null,8,["modelValue","error"]),r(m,{errorMessage:e(s).errorMessage,errorClass:"c--form-error-a",hintMessage:e(s).hintMessage,hintClass:"c--form-hint-a"},null,8,["errorMessage","hintMessage"])]),_:1}),e(s).error?(h(),g("div",{key:0,class:"c--form-error-a",innerHTML:e(s).error},null,8,k)):E("",!0),F,N,r(_,{to:"/auth/reset-password",class:"c--btn-a c--btn-a--second"},{default:l(()=>[b("Recover Password")]),_:1}),U,r(_,{to:"/auth/sign-up",class:"c--btn-a c--btn-a--second"},{default:l(()=>[b("Sign Up")]),_:1}),B],32)])])])}}});export{G as default};
